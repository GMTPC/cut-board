
// --------------------------------------------------------------------

//Using for run jQuery Ajax or javascript. Can use in any page from here.

//---------------------------------------------------------------------

$(document).ready( function () {
    $('#sotable').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(function() {
    $('#order').DataTable();
});

$(document).ready( function () {
    $('#bplustest').DataTable();
});

$(document).ready(function(){
    $("#myBtn").click(function(){
        $("#myModal").modal();
    });
});

$(document).ready( function () {
    $('#view_item').DataTable();
});

$(document).ready( function () {
    $('#setable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#sbtable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});
$(document).ready( function () {
    $('#rntotoatable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#rntobptable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#fcnwtable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#rctoatable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#rcnwtable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#fntable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#ratable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#rutable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#rltable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#ru07table').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#formprintrutable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#worktable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

// $(document).ready( function () {
//     $('#pruksapo_table').DataTable({
//         "oLanguage": {
//             "sSearch": "ค้นหา",
//             "dom": '<"wrapper"flipt>'

//         },
//         dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
//     });
// });

$(document).ready(function() {
    $('#pruksapo_table').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            {
                extend: 'excel',
                text: 'Export to Excel'
            }
             
        ]
    } );
} );

$(document).ready( function () {
    $('#emptable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#brnadslisttable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#nglisttable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#workedtable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#empgrouptable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#pjtable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#datecolortable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#pdcolortable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#wipperdaytable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#clinereporttable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#pdfclinereporttable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function(){
    $('#doccline').DataTable({
        responsive: true,
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});
$(document).ready(function(){
    $('#pkdocall').DataTable({
        responsive: true,
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});
$(document).ready(function(){
    $('#csvallfiletable').DataTable({
        responsive: true,
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

function myFunction() {
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("tr");
    for (i = 0; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[2];
        if (td) {
            txtValue = td.textContent || td.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
        }
    }
}

$('#myTableOutSe').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    if (showOrder == 'SO') {
        $(this).hide();
    }
    else if (showOrder == 'SB') {
        $(this).hide();
    }
    else {
        $(this).show();
    }
});

$('#myTableOut').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    if (showOrder == 'SE') {
        $(this).hide();
    }
    else {
        $(this).show();
    }
});

$('#iconified').on('keyup', function() {
    var input = $(this);
    if(input.val().length === 0) {
        input.addClass('empty');
    } else {
        input.removeClass('empty');
    }
});

// Convert Bar

$('.codewip2').each(function() {
    var newText = ($(this).text()).substr(0,11);
    $(this).text(newText);
});

$('.codewip4').each(function() {
    var sub1 = ($(this).text()).substr(11,2); // substr(11,6); substr(11,2); substr(13,2); substr(15,2);
    var sub2 = ($(this).text()).substr(13,2);
    var sub3 = ($(this).text()).substr(15,2);
    var sub4 = ($(this).text()).substr(0,2);
    if (sub4 == 'BX') {
        $(this).text('');
    }
    else {
        $(this).text(sub3+ '/' + sub2 + '/20' + sub1);
    }

});

$('.codewip5').each(function() {
    var newText = ($(this).text()).substr(17,4);
    $(this).text(newText);
});

$('.fg1').each(function() {
    var showOrder = $('.showoderno').text().substr(12,2);
    var newText = ($(this).text()).substr(0,11);
    var checkNum = $(this).text().substr(0,2);

    if (showOrder == 'SE') {
        if (checkNum == 'RE') {
            $(this).remove().empty();
        }
        else {
            $(this).text(newText);
        }
    }
    else {
        if (checkNum == 'BR' || checkNum == 'RE') {

        }
        else {
            $(this).text(newText);
        }
    }

});
$(document).ready(function(){
    $('.fg2').each(function() {
        var showOrder = $('.showoderno').text().substr(12,2);
        var checkNum = $(this).text().substr(0,2);
        var checkLot = $(this).text().substr(11,2);
        var newLot = ($(this).text()).substr(11,10);
        var newText = ($(this).text()).substr(11,2);
        if (showOrder == 'SE') {
            if (checkNum == 'RE') {
                $(this).remove().empty();
            }
            else {
                if (checkNum == 'B1') {
                    $(this).text("L1");
                }
                else if (checkNum == 'B2') {
                    $(this).text("L2");
                }
                else if (checkNum == 'B3') {
                    $(this).text("L3");
                }
                else if (checkNum == 'BR') {
                    $(this).text(" ");
                }
                else if (checkNum == 'BX' || checkLot == 'L1') {
                    $(this).text("L1");
                }
                else if (checkNum == 'BX' || checkLot == 'L2') {
                    $(this).text("L2");
                }
                else if (checkNum == 'BX' || checkLot == 'L3') {
                    $(this).text("L3");
                }
                else if (newText==19 && checkNum == 'BC') {
                    $(this).text("1111111111");
                }
                else if (newText==19 && checkNum == 'BR') {
                    $(this).text(" ");
                }
                else if (newText==19 && checkNum == 'BO') {
                    $(this).text("1111111111");
                }
                else {
                    $(this).text(newLot);
                }
            }
        }
        else {
            if (checkNum == 'BR' || checkNum == 'RE') {
                $(this).remove().empty();
            }
            else {
                if (newText<191101) {
                    $(this).text("4444444444");
                }
                else {
                    if (checkNum == 'B1') {
                        $(this).text("L1");
                    }
                    else if (checkNum == 'B2') {
                        $(this).text("L2");
                    }
                    else if (checkNum == 'B3') {
                        $(this).text("L3");
                    }
                    else if (newText==19 && checkNum == 'BR') {
                        $(this).text(" ");
                    }
                    else if (newText!==19 && checkNum == 'BC') {
                        $(this).text(newLot);
                    }
                    else if (newText!==19 && checkNum == 'BR') {
                        $(this).text(" ");
                    }
                    else if (newText!==19 && checkNum == 'BO') {
                        $(this).text(newLot);
                    }
                    else {
                        $(this).text(newLot);
                    }
                }
            }
        }
    });
});

$('#cuts').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    if (showOrder == 'SE') {
        $(this).show();
    }
    else {
        $(this).hide();
    }
});

$(document).ready(function(){
    var string = parseInt(10);
});

$('.fg3').each(function() {
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkNum = $(this).text().substr(0,2);
    var newText = ($(this).text()).substr(21,4);
    var newNumber = parseInt(newText);
    if (showOrder == 'SE') {
        if (checkNum == 'RE') {
            $(this).remove().empty();
        }
        else {
            $(this).text(newNumber);
        }
    }
    else {
        if (checkNum == 'BR' || checkNum == 'RE') {
            $(this).remove().empty();
        }
        else {
            $(this).text(newNumber);
        }
    }
});


$('.fg4').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkNum = $(this).text().substr(0,2);

    if (showOrder == 'SE') {
        if (checkNum == 'RE') {
            $(this).remove().empty();
        }
        else {
            $(this).text("01-01นว");
        }
    }
    else {
        if (checkNum == 'BR' || checkNum == 'RE') {
            $(this).remove().empty();
        }
        else {
            $(this).text("01-01นว");
        }
    }

});

$('.fg4trans').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkNum = $(this).text().substr(0,2);
    if (checkNum == 'BR' || checkNum == 'RE') {
        $(this).remove().empty();
    }
    else {
        $(this).text("02-01บางพลี");
    }
});

$('.fg4n').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkNum = $(this).text().substr(0,2);
    if (showOrder == 'SO') {
        if (checkNum == 'BR' || checkNum == 'GM') {
            $(this).remove().empty();
        }
        else {
            $(this).text("01-01นว");
        }
    }
    else {
        if (checkNum == 'GM') {
            $(this).remove().empty();
        }
        else {
            $(this).text("01-01นว");
        }
    }

});

$('.fg5').each(function() {
    var checkNum = $(this).text().substr(0,2);
    var newText = ($(this).text()).substr(0,11); //substr(1,3);
    if (checkNum == 'BR' || checkNum == 'EG') {
        $(this).remove().empty();
    }
    else {
        $(this).text(newText);
    }
});

$('.fgp').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkNum = $(this).text().substr(0,2);

    if (showOrder == 'SE') {
        if (checkNum == 'RE') {
            $(this).remove().empty();
        }
        else {
            $(this).text("3");
        }
    }
    else {
        if (checkNum == 'BR' || checkNum == 'RE') {
            $(this).remove().empty();
        }
        else {
            $(this).text("3");
        }
    }

});

$('.fg6').each(function() {
    var checkNum = $(this).text().substr(0,2);
    var newText = ($(this).text()).substr(21,3);
    if (checkNum == 'BR' || checkNum == 'EG') {
        $(this).remove().empty();
    }
    else {
        $(this).text(newText);
    }
});

$('.fgp2').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkNum = $(this).text().substr(0,2);
    if (showOrder == 'SO') {
        if (checkNum == 'BR' || checkNum == 'GM') {
            $(this).remove().empty();
        }
        else {
            $(this).text("4");
        }
    }
    else {
        if (checkNum == 'GM') {
            $(this).remove().empty();
        }
        else {
            $(this).text("4");
        }
    }
});

$("#fg_code").change(function(){
    var checkSku = $("#fg_code").val().substr(0,2);
    $("#sku_code").val($(this).val().substr(0,11));
    if (checkSku == 'B1') {
        $("#sku_code").val('BX'+$(this).val().substr(2,9));
    }
    else if (checkSku == 'B2') {
        $("#sku_code").val('BX'+$(this).val().substr(2,9));
    }
    else if (checkSku == 'B3') {
        $("#sku_code").val('BX'+$(this).val().substr(2,9));
    }
    else {
        $("#sku_code").val($(this).val().substr(0,11));
    }
});

$("#fg_code").change(function(){
    var checkSku = $("#fg_code").val().substr(0,2);
    if (checkSku == 'RE') {
        $("#fg_sku_line").val($(this).val().substr(0,4));
    }
    else {
        if (checkSku == 'B1') {
            $("#fg_sku_line").val('BX');
        }
        else if (checkSku == 'B2') {
            $("#fg_sku_line").val('BX');
        }
        else if (checkSku == 'B3') {
            $("#fg_sku_line").val('BX');
        }
        else {
            $("#fg_sku_line").val($(this).val().substr(0,2));
        }
    }
});

$("#fg_code_transfer").change(function(){
    var checkSku = $("#fg_code_transfer").val().substr(0,2);
    if (checkSku == 'RE') {
        $("#fgt_sku_line").val($(this).val().substr(0,4));
    }
    else {
        if (checkSku == 'B1') {
            $("#fgt_sku_line").val('BX');
        }
        else if (checkSku == 'B2') {
            $("#fgt_sku_line").val('BX');
        }
        else if (checkSku == 'B3') {
            $("#fgt_sku_line").val('BX');
        }
        else {
            $("#fgt_sku_line").val($(this).val().substr(0,2));
        }
    }
});

$("#fg_code").change(function(){
    var checkSku = $("#fg_code").val().substr(0,2);
    $("#fg_amount").val($(this).val().substr(21,24));
});

$("#wip_barcode").change(function(){
    var checkSku = $("#wip_barcode").val().substr(0,2);
    $("#wip_amount").val($(this).val().substr(21,24));
});


$("#fg_code").change(function(){
    var checkSku = $("#fg_code").val().substr(0,2);
    var checkLot = $("#fg_code").val().substr(11,2);
    if (checkSku == 'B1') {
        $("#fg_lot").val('L1');
    }
    else if (checkSku == 'B2') {
        $("#fg_lot").val('L2');
    }
    else if (checkSku == 'B3') {
        $("#fg_lot").val('L3');
    }
    else if (checkLot == '19' && checkSku == 'RE') {
        $("#fg_lot").val('0000000000');
    }
    else if (checkSku == 'BC') {
        $("#fg_lot").val(1111111111);
    }
    else if (checkSku == 'BO') {
        $("#fg_lot").val(1111111111);
    }
    else if (checkSku == 'BX') {
        $("#fg_lot").val($(this).val().substr(11,2));
    }
    else if (checkLot !== '19' && checkSku == 'RE') {
        $("#fg_lot").val('0000000000');
    }
    else {
        $("#fg_lot").val($(this).val().substr(11,10));
    }
});

$("#fg_code_transfer").change(function(){
    var checkSku = $("#fg_code_transfer").val().substr(0,2);
    if (checkSku == 'B1') {
        $("#fgt_sku_code").val('BX'+$(this).val().substr(2,9));
    }
    else if (checkSku == 'B2') {
        $("#fgt_sku_code").val('BX'+$(this).val().substr(2,9));
    }
    else if (checkSku == 'B3') {
        $("#fgt_sku_code").val('BX'+$(this).val().substr(2,9));
    }
    else {
        $("#fgt_sku_code").val($(this).val().substr(0,11));
    }

});

$("#fg_code_transfer").change(function(){
    var checkSku = $("#fg_code_transfer").val().substr(0,2);
    var checkLot = $("#fg_code_transfer").val().substr(11,2);
    if (checkSku == 'B1') {
        $("#fgt_lot").val('L1');
    }
    else if (checkSku == 'B2') {
        $("#fgt_lot").val('L2');
    }
    else if (checkSku == 'B3') {
        $("#fgt_lot").val('L3');
    }
    else if (checkLot == '19' && checkSku == 'RE') {
        $("#fgt_lot").val('0000000000');
    }
    else if (checkSku == 'BC') {
        $("#fgt_lot").val(1111111111);
    }
    else if (checkSku == 'BO') {
        $("#fgt_lot").val(1111111111);
    }
    else if (checkSku == 'BX') {
        $("#fgt_lot").val($(this).val().substr(11,2));
    }
    else if (checkLot !== '19' && checkSku == 'RE') {
        $("#fgt_lot").val('0000000000');
    }
    else {
        $("#fgt_lot").val($(this).val().substr(11,10));
    }
});

$("#fg_code_transfer").change(function(){
    var checkSku = $("#fg_code_transfer").val().substr(0,2);
    $("#fgt_amount").val($(this).val().substr(21,24));
});

$('.fg8').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    if (showOrder == 'SB') {
        $(this).text("02-01บางพลี");
    }
    else {
        $(this).text("01-01นว");
    }
});

$('.fg8trans').each(function(){
    var showOrder = $('.showoderno').text().substr(13,2);
    var newText = $(this).text();
    var checkCon = $(this).text().substr(0,2);
    if (checkCon == 'BR' || checkCon == 'RE') {
        $(this).remove().empty();
    }
    else {
        if (showOrder == 'RN') {
            $(this).text("01-01นว");
        }
        else {
            $(this).text("02-01บางพลี");
        }
    }
});

$('.fg8transwh02').each(function(){
    var showOrder = $('.showoderno').text().substr(13,2);
    var newText = $(this).text();
    var checkCon = $(this).text().substr(0,2);
    if (checkCon == 'BR' || checkCon == 'RE') {
        $(this).remove().empty();
    }
    else {
        if (showOrder == 'FC') {
            $(this).text("01-01นว");
        }
        else {
            $(this).text("02-01บางพลี");
        }
    }
});

$('.fg8trans04').each(function(){
    var showOrder = $('.showoderno').text().substr(13,2);
    var newText = $(this).text();
    var checkCon = $(this).text().substr(0,2);
    if (checkCon == 'BR' || checkCon == 'RE') {
        $(this).remove().empty();
    }
    else {
        if (showOrder == 'FN') {
            $(this).text("02-04บางพลี");
        }
        else {
            $(this).text("01-04นว");
        }
    }
});

$('.fg8transbp').each(function(){
    var newText = $(this).text();
    var checkCon = $(this).text().substr(0,2);
    if (checkCon == 'BR' || checkCon == 'RE') {
        $(this).remove().empty();
    }
    else {
        $(this).text("02-01บางพลี");
    }
});

$('.fg8transtoa').each(function(){
    var newText = $(this).text();
    var checkCon = $(this).text().substr(0,2);
    if (checkCon == 'BR' || checkCon == 'RE') {
        $(this).remove().empty();
    }
    else {
        $(this).text("TOA");
    }
});

$('.fg8transps').each(function(){
    var newText = $(this).text();
    var checkCon = $(this).text().substr(0,2);
    if (checkCon == 'BR' || checkCon == 'RE') {
        $(this).remove().empty();
    }
    else {
        $(this).text("พฤกษา");
    }
});

$('.fg9').text("0");

$(document).ready(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    $('.fg10').each(function() {
        var lotBx = $(this).text().substr(0,2);
        var lotnm = $(this).text().substr(0,10);
        var barcode = $(this).text().substr(10,2);
        var skulineBx = $(this).text().substr(2,2);
        if (showOrder == 'SO') {
            if (skulineBx == 'B1') {
                $(this).text(lotBx);
            }
            else if (skulineBx == 'B2') {
                $(this).text(lotBx);
            }
            else if (skulineBx == 'B3') {
                $(this).text(lotBx);
            }
            else if (skulineBx == 'BX') {
                $(this).text(lotBx);
            }

            else {
                $(this).text(lotnm);
            }
        }
        else {
            if (skulineBx == 'B1') {
                $(this).text(lotBx);
            }
            else if (skulineBx == 'B2') {
                $(this).text(lotBx);
            }
            else if (skulineBx == 'B3') {
                $(this).text(lotBx);
            }
            else if (skulineBx == 'BX') {
                $(this).text(lotBx);
            }
            else if (barcode == 'BR') {
                $(this).text(' ');
            }
            else {
                $(this).text(lotnm);
            }
        }
    });
});

$('.fg10trans').each(function() {
    var barcode = $(this).text().substr(10,2);
    var lotNo = $(this).text().substr(0,10);
    var lotCheck = $(this).text().substr(0,2);
    if (barcode == 'BR') {
        $(this).text(' ');
    }
    else if (barcode == 'CR') {
        $(this).text(' ');
    }
    else {
        if (lotCheck == 'L1') {
            $(this).text('L1');
        }
        else if (lotCheck == 'L2') {
            $(this).text('L2');
        }
        else if (lotCheck == 'L3') {
            $(this).text('L3');
        }
        else {
            $(this).text(lotNo);
        }
    }
});


$('.nothingfg').each(function(){
    var checkSku = $(this).text();
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkNum = $(this).text().substr(0,2);
    var showLot = $(this).text().substr(2,2);
    if (showOrder == 'SO') {
        if (checkNum == 'BR' || checkNum == 'REGM') {
            $(this).remove().empty();
        }
        else {
            $(this).text(" ");
        }
    }
    else {
        if (checkNum == 'REGM') {
            $(this).remove().empty();
        }
        else {
            if (checkNum == 'BX') {
                $(this).text(showLot);
            }
            else if (checkNum == 'BR') {
                $(this).text(" ");
            }
            else if (checkNum == 'BO') {
                $(this).text(" ");
            }
            else if (checkNum == 'BC') {
                $(this).text(" ");
            }
            else {
                $(this).text();
            }

        }
    }

});

$(document).ready(function(){
    $('.fgt').each(function(){
        var checkNum = $(this).text().substr(0,2);
        var newText = $(this).text().substr(0,9);
        var checkLine = $(this).text().substr(9,2);
        var newConREGM = $(this).text().substr(0,2);
        var newConBr = $(this).text().substr(0,2);
        var showOrder = $('.showoderno').text().substr(12,2);

        if (showOrder == 'SO') {
            if (checkNum == 'BR' || checkNum == 'GM') {
                $(this).remove().empty();
            }
            else {
                if (showOrder == 'SE') {
                    if (newConREGM == 'GM') {
                        $(this).text().substr(1,10);
                    }
                    else {
                        if (checkLine == 'B1') {
                            $(this).text('C'+'X'+newText);
                        }
                        else if (checkLine == 'B2') {
                            $(this).text('C'+'X'+newText);
                        }
                        else if (checkLine == 'B3') {
                            $(this).text('C'+'X'+newText);
                        }
                        else if (checkLine == 'BC') {
                            $(this).text('C'+'C'+newText);
                        }
                        else if (checkLine == 'BO') {
                            $(this).text('C'+'O'+newText);
                        }
                        else if (checkLine == 'BR') {
                            $(this).text('C'+'R'+newText);
                        }
                        else {
                            $(this).text('C'+'X'+newText);
                        }
                    }
                }else {
                    if (newConREGM == 'GM' || newConBr == 'BR') {
                        $(this).text().substr(1,10);
                    }
                    else {
                        if (checkLine == 'B1') {
                            $(this).text('D'+'1'+newText);
                        }
                        else if (checkLine == 'B2') {
                            $(this).text('D'+'2'+newText);
                        }
                        else if (checkLine == 'B3') {
                            $(this).text('D'+'3'+newText);
                        }
                        else if (checkLine == 'BC') {
                            $(this).text('D'+'C'+newText);
                        }
                        else if (checkLine == 'BO') {
                            $(this).text('D'+'O'+newText);
                        }
                        else if (checkLine == 'BR') {
                            $(this).text('B'+'R'+newText);
                        }
                        else {
                            $(this).text('D'+'4'+newText);
                        }
                    }
                }
            }
        }
        else {
            if (checkNum == 'GM') {
                $(this).remove().empty();
            }
            else {
                if (showOrder == 'SE') {
                    if (newConREGM == 'GM') {
                        $(this).text().substr(1,10);
                    }
                    else {
                        if (checkLine == 'B1') {
                            $(this).text('C'+'X'+newText);
                        }
                        else if (checkLine == 'B2') {
                            $(this).text('C'+'X'+newText);
                        }
                        else if (checkLine == 'B3') {
                            $(this).text('C'+'X'+newText);
                        }
                        else if (checkLine == 'BC') {
                            $(this).text('C'+'C'+newText);
                        }
                        else if (checkLine == 'BO') {
                            $(this).text('C'+'O'+newText);
                        }
                        else if (checkLine == 'BR') {
                            $(this).text('C'+'R'+newText);
                        }
                        else {
                            $(this).text('C'+'X'+newText);
                        }
                    }
                }else {
                    if (newConREGM == 'GM' || newConBr == 'BR') {
                        $(this).text().substr(1,10);
                    }
                    else {
                        if (checkLine == 'B1') {
                            $(this).text('D'+'1'+newText);
                        }
                        else if (checkLine == 'B2') {
                            $(this).text('D'+'2'+newText);
                        }
                        else if (checkLine == 'B3') {
                            $(this).text('D'+'3'+newText);
                        }
                        else if (checkLine == 'BC') {
                            $(this).text('D'+'C'+newText);
                        }
                        else if (checkLine == 'BO') {
                            $(this).text('D'+'O'+newText);
                        }
                        else {
                            $(this).text('D'+'4'+newText);
                        }
                    }
                }
            }
        }
    });
});

$('.fgtrans').each(function(){
    var checkNum = $(this).text().substr(0,2);
    var newText = $(this).text().substr(1,11);
    var checkLine = $(this).text().substr(9,2);
    var newConREGM = $(this).text().substr(0,2);
    var newConBr = $(this).text().substr(0,2);
    var showOrder = $('.showoderno').text().substr(12,2);

    if (checkNum == 'BR' || newConREGM == 'RE') {
        $(this).remove().empty();
    }
    else {
        $(this).text('D'+newText);
    }
});

$('.totaltrans').each(function(){
    var checkCon = $(this).text().substr(3,2);
    var newText = $(this).text().substr(0,3);
    if (checkCon == 'GM' || checkCon == 'BR') {
        $(this).remove().empty();
    }
    else {
        $(this).text(newText);
    }
});

$('.fg7trans').each(function(){
    var checkCon = $(this).text().substr(0,2);
    var newText = $(this).text().substr(0,11);

    if (checkCon == 'BR' || checkCon == 'RE') {
        $(this).remove().empty();
    }
    else {
        $(this).text('');
    }
});

$('.fgtotaltrans').each(function(){
    var checkCon = $(this).text().substr(0,2);
    if (checkCon == 'RE') {
        $(this).text('0000000000')
    }
    else {
        $(this).text(' ')
    }
});

$('.fgamo').each(function() {
    var showOrder = $('.showoderno').text().substr(12,2);
    var checkAmount = $('.fgcodefull').text().substr(21,4);
    var checkNum = $('.checknumber').text().substr(1,2);
    var checkNum2 = $('.checknumber').text().substr(3,2);
    if (showOrder == 'SO') {
        if (checkNum == 'BR' || checkNum == 'GM' || checkNum2 == 'BR') {
            $(this).remove().empty();
        }
        else {
            if (checkAmount < 1000) {
                var newText = $(this).text().substr(0,3).replace(/B/g, "");
                $(this).text(newText);
            }
            else if (checkAmount < 10000) {
                var newText = $(this).text().substr(0,4).replace(/B/g, "");
                $(this).text(newText);
            }
            else if (checkAmount < 100000) {
                var newText = $(this).text().substr(0,5).replace(/B/g, "");
                $(this).text(newText);
            }
            else {
                var newText = $(this).text().substr(0,6).replace(/B/g, "");
                $(this).text(newText);
            }
        }
    }
    else {
        if (checkNum == 'GM') {
            $(this).remove().empty();
        }
        else {
            if (checkAmount < 1000) {
                var newText = $(this).text().substr(0,3).replace(/B/g, "");
                $(this).text(newText);
            }
            else if (checkAmount < 10000) {
                var newText = $(this).text().substr(0,4).replace(/B/g, "");
                $(this).text(newText);
            }
            else if (checkAmount < 100000) {
                var newText = $(this).text().substr(0,5).replace(/B/g, "");
                $(this).text(newText);
            }
            else {
                var newText = $(this).text().substr(0,6).replace(/B/g, "");
                $(this).text(newText);
            }
        }
    }
});

$('.fgtod').each(function(){
    var newText = $(this).text().substr(0,9);
    var newTextB = $(this).text().substr(0,10);
    var checkLine = $(this).text().substr(9,2);
    var newConREGM = $(this).text().substr(0,2);
    var newConBr = $(this).text().substr(0,2);
    var showOrder = $('.showoderno').text().substr(12,2);

    if (showOrder == 'SE') {
        if (newConREGM == 'GM') {
            $(this).text().substr(1,10);
        }
        else {
            if (checkLine == 'B1') {
                $(this).text('C'+'X'+newText);
            }
            else if (checkLine == 'B2') {
                $(this).text('B'+'X'+newText);
            }
            else if (checkLine == 'B3') {
                $(this).text('B'+'X'+newText);
            }
            else if (checkLine == 'BC') {
                $(this).text('B'+'C'+newText);
            }
            else if (checkLine == 'BO') {
                $(this).text('B'+'O'+newText);
            }
            else if (checkLine == 'BR') {
                $(this).text('B'+'R'+newText);
            }
            else {
                $(this).text('B'+'X'+newText);
            }
        }
    }else {
        if (newConREGM == 'GM' || newConBr == 'BR') {
            $(this).text('RE'+newText);
        }
        else {
            if (checkLine == 'B1') {
                $(this).text('B'+'X'+newText);
            }
            else if (checkLine == 'B2') {
                $(this).text('B'+'X'+newText);
            }
            else if (checkLine == 'B3') {
                $(this).text('B'+'X'+newText);
            }
            else if (checkLine == 'BC') {
                $(this).text('B'+'C'+newText);
            }
            else if (checkLine == 'BO') {
                $(this).text('B'+'O'+newText);
            }
            else if (checkLine == 'BR') {
                $(this).text('B'+'R'+newText);
            }
            else {
                $(this).text('B'+'X'+newText);
            }
        }
    }
});

$('.fgtodtrans').each(function(){
    var sku = $(this).text();
    var newText = $(this).text().substr(2,13);
    var newText2 = $(this).text().substr(1,13);
    var checkLine = $(this).text().substr(0,2);
    var newConREGM = $(this).text().substr(0,2);
    var newConBr = $(this).text().substr(0,2);
    var showOrder = $('.showoderno').text().substr(12,2);

    if (showOrder == 'SE') {
        if (newConREGM == 'GM') {
            $(this).text().substr(1,10);
        }
        else {
            if (checkLine == 'B1') {
                $(this).text('B'+'1'+newText);
            }
            else if (checkLine == 'B2') {
                $(this).text('B'+'2'+newText);
            }
            else if (checkLine == 'B3') {
                $(this).text('B'+'3'+newText);
            }
            else if (checkLine == 'BC') {
                $(this).text('B'+'C'+newText2);
            }
            else if (checkLine == 'BO') {
                $(this).text('B'+'O'+newText2);
            }
            else {
                $(this).text('B'+'4'+newText);
            }
        }
    }else {
        if (newConREGM == 'RE') {
            $(this).text('R'+newText2);
        }
        else if (newConBr == 'BR') {
            $(this).text('B'+newText2);
        }
        else {
            if (checkLine == 'B1') {
                $(this).text('B'+'X'+newText);
            }
            else if (checkLine == 'B2') {
                $(this).text('B'+'X'+newText);
            }
            else if (checkLine == 'B3') {
                $(this).text('B'+'X'+newText);
            }
            else {
                $(this).text('B'+newText2);
            }
        }
    }
});

var totals = [];
$('#theTable tbody tr').each(function(e) {
    var tds= $(this).find('td');
    var index = $(tds[0]).text();
    var pending = parseInt($(tds[1]).text(), 10);
    var denied = parseInt($(tds[2]).text(), 10);
    if (totals[index] == undefined)
    totals[index] = { Pending: 0, Denied: 0 };
    totals[index].Pending += pending;
    totals[index].Denied += denied;
});
for (var key in totals)
$('#theTable tfoot').append('<tr><td>'+key+'</td><td>'+
totals[key].Pending+'</td><td>'+totals[key].Denied+'</td></tr>');

$(document).ready(function(){
    $("#myInputCode").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#searchCode tr").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });
});

setTimeout(function() { $('#wip_barcode').focus() }, 1000);
setTimeout(function() { $('#fg_code_transfer').focus() }, 1000);
setTimeout(function() { $('#fg_code').focus() }, 1000);
setTimeout(function() { $('#ccw_barcode').focus() }, 1000);

//---------------------------------------------------------

$(document).ready(function(){
    $("#myInputCut").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#searchCut tr").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });
});
$(document).ready(function(){
    $("#myInputOut").on("keyup", function() {
        var value = $(this).val().toLowerCase();
        $("#searchOut tr").filter(function() {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        });
    });
});


$(document).ready(function(){
    $(".nav-tabs a").click(function(){
        $(this).tab('show');
    });
});


$(document).ready(function(){
    var changeText1 = 'B1';
    var changeText2 = 'B2';
    $('.t1').each(function() {
        var text = $(this).text();
        if (text == changeText1) {
            $('.show1').text('hi2');
        } else if (text == changeText2) {
            $('.show1').text('hi');
        }
    });
});

// Basic example
$(document).ready(function () {
    $('#dtBasicExample').DataTable({
        "pagingType": "simple" // "simple" option for 'Previous' and 'Next' buttons only
    });
    $('.dataTables_length').addClass('bs-select');
});



$('.checkline1').each(function(){
    var checkLine = $(this).text().substr(0,2);

    if (checkLine == 'W1') {
        $(this).text('ไลน์ผลิตถูกต้อง').css('color', '#34CD43');
    }
    else {
        $(this).text('ไลน์ผลิตไม่ถูกต้อง').css('color','red');
    }
});

Number.prototype.pad = function(size) {
    var s = String(this);
    while (s.length < (size || 2)) {s = "0" + s;}
    return s;
}
var i = 1;
$('.outfg1').each(function(index){
    var newText = $(this).text().substr(11,4);

    $(this).text(newText + 20+i.pad(4));
    i++;
});

$(document).ready(function(){
    $('.outputitemfg1').each(function(){
        var item = $(this).text().substr(4,7);
        var brand = $(this).text().substr(24,2);
        $(this).text('B1' + brand + item);
    });
});

$("#addempname").on('click',function() {
    var row = '<div class="row" id="moreempid">';
    var col = '<div class="col-md-6 text-center">';
    var name = '<b style="font-size:16px;">ชื่อ : </b><input type="text" name="ue_name[]" class="form-control text-center" data-toggle="tooltip" title="กรอกชื่อ" style="width:70%;" placeholder="กรอกชื่อ" required>';
    var status = '<input type="hidden" name="ue_status[]" value="1">';
    var empno = '<input type="hidden" name="ue_ue_empno[]" value="0">';
    var remark = '<b style="font-size:16px;">หมายเหตุ : </b><input type="text" name="ue_remark[]" class="form-control text-center" data-toggle="tooltip" title="หมายเหตุ" style="width:50%;" maxlength="50" placeholder="หมายเหตุ">';
    var enddiv = '</div>';
    $("#addmoreemp").append(row+col+name+hiddenempline+status+empno+enddiv+col+remark+enddiv+enddiv);
});

$('#multiscanwip').on('click',function(){
    $('#addscanwip').append(addscanwipemp+inputbarcode);
    $('.selectpicker').selectpicker('refresh');
});

$('#removeempmore').click(function() {
    $("#moreempid").remove();
});

$("#addl1a").on('click',function() {
    var inputID = $('input[name="inputng_id"]').val()
    var tr1 = '<tr>';
    var tr2 = '</tr>';
    $("#wipline1awaste").append(tr1+slectElement+inputElement+tr2);
    $('input[name="amg_wip_id[]"]').val(inputID);
});

$(document).ready(function(){
    $('.inputng').on('click',function(){
        var inputID = $(this).data('id');
        $('#inputng_idchild').val(inputID);
    });
});

$("#removelistng").click(function() {
    $("#wipline1awaste td").remove();
});

$('#save-excel').each(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    if (showOrder == 'SE') {
        $(this).show();
    }
    else {
        $(this).hide();
    }
});

$(document).ready(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    $('#save-excel').on('click', function() {
        if (showOrder == 'SE') {
            $("#myTableCut").tableToCsv({
                outputheaders: false,
                fileName: 'ตัดสต็อกนอก'+filenamefg
            });
        }
        else if (showOrder == 'SO') {
            $("#myTableCut").tableToCsv({
                outputheaders: false,
                fileName: 'ตัดสต็อก'+filename
            });
        }
        else {
            $("#myTableCut").tableToCsv({
                outputheaders: false,
                fileName: 'ตัดสต็อก'+filename
            });
        }
    });
});

$(document).ready(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    $('#save-excel2').on('click', function() {
        if (showOrder == 'SE') {
            $("#myTableOutSe").tableToCsv({
                outputheaders: false,
                fileName:'ออกนอก'+filenamefg
            });
        }else {
            $("#myTableOut").tableToCsv({
                outputheaders: false,
                fileName:'ออกของ'+filename
            });
        }
    });
});

$(document).ready(function(){
    var date = new Date();
    var dateUtc = date.getUTCDate();
    var month = date.getUTCMonth() + 1; // Since getUTCMonth() returns month from 0-11 not 1-12
    var year = date.getUTCFullYear();
    var time = date.getHours();
    var minute = date.getMinutes();
    var showTime = dateUtc + "-" + month + "-" + year + " " + time+":"+minute;
    var showOrder = $('.showoderno').text().substr(12,2);
    $('#save-excel_tran1').on('click', function() {
        if (time < 13) {
            $("#myTableconvert").tableToCsv({
                outputheaders: false,
                fileName: 'แปรรหัส'+showTime+"am"
            });
        }
        else {
            $("#myTableconvert").tableToCsv({
                outputheaders: false,
                fileName: 'แปรรหัส'+showTime+"pm"
            });
        }
    });
});

$(document).ready(function(){
    var date = new Date();
    var dateUtc = date.getUTCDate();
    var month = date.getUTCMonth() + 1; // Since getUTCMonth() returns month from 0-11 not 1-12
    var year = date.getUTCFullYear();
    var time = date.getHours();
    var minute = date.getMinutes();
    var showTime = dateUtc + "-" + month + "-" + year + " " + time+":"+minute;
    var showOrder = $('.showoderno').text().substr(12,2);
    $('#save-excel_tran2').on('click', function() {
        if (time < 13) {
            $("#myTabletransfer").tableToCsv({
                outputheaders: false,
                fileName:'โอนย้ายนครสวรรค์'+showTime+"am"
            });
        }
        else {
            $("#myTabletransfer").tableToCsv({
                outputheaders: false,
                fileName:'โอนย้ายนครสวรรค์'+showTime+"pm"
            });
        }
    });
});

$(document).ready(function(){
    var date = new Date();
    var dateUtc = date.getUTCDate();
    var month = date.getUTCMonth() + 1; // Since getUTCMonth() returns month from 0-11 not 1-12
    var year = date.getUTCFullYear();
    var time = date.getHours();
    var minute = date.getMinutes();
    var showTime = dateUtc + "-" + month + "-" + year + " " + time+":"+minute;
    var showOrder = $('.showoderno').text().substr(12,2);
    $('#save-excel_tran2bp').on('click', function() {
        if (time < 13) {
            $("#myTabletransfer").tableToCsv({
                outputheaders: false,
                fileName:'โอนย้ายบางพลี'+showTime+"am"
            });
        }
        else {
            $("#myTabletransfer").tableToCsv({
                outputheaders: false,
                fileName:'โอนย้ายบางพลี'+showTime+"pm"
            });
        }
    });
});

$(document).ready(function(){
    $('#save-excel_tran_nwtoa').on('click', function() {
        $("#myTabletransfernwtoa").tableToCsv({
            outputheaders: false,
            fileName:'โอนย้าย'+filename
        });
    });
});

$(document).ready(function(){
    $('#save-excel_tran_wh').on('click', function() {
        $("#myTabletransfernwtoa").tableToCsv({
            outputheaders: false,
            fileName:'รับของ'+filename
        });
    });
});

$(document).ready(function(){
    $('#storecsv').on('click', function() {
        $("#storetable").tableToCsv({
            outputheaders: false,
            fileName:'ใบขอเบิก'+filename
        });
    });
});

$(document).ready(function(){
    $('#savecsvpr').on('click', function() {
        $("#prcsvtable").tableToCsv({
            outputheaders: false,
            fileName:'ใบขอซื้อ'+filename
        });
    });
});

$(document).ready(function(){
    if (line == 'L3') {
        l = "ไลน์3";
    }
    else if (line == 'L2') {
        l = "ไลน์2";
    }
    else {
        l = "ไลน์1";
    }
    $('#csvsumbtn').on('click', function() {
        $("#csvsummary").tableToCsv({
            outputheaders: false,
            fileName:'คัดบอร์ด'+l+" "+group+" "+enddate,
            extension: 'csv'
        });
    });
});

$(document).ready(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    $('.conseorso').each(function(){
        if (showOrder == 'SE') {
            $(this).text('ออกนอก');
        }
        else {
            $(this).text();
        }
    });
});

$(document).ready(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    $('.changeheader').each(function(){
        if (showOrder == 'SE') {
            $(this).text('แปรรหัสออกของนอกประเทศ');
        }
        else {
            $(this).text();
        }
    });
});

$('.decimalfg').each(function(){
    var value = parseFloat($(this).text());
    $(this).text(value.toFixed(2))
});

$('#turnbackcuts').click(function(){
    var showOrder = $('.showoderno').text().substr(12,2);
    if (showOrder == 'SB') {
        window.location.href = backtoselectbp;
    }
    else {
        window.location.href = backtoselect;
    }
});
$('#turnbacktoa').click(function(){
    var showOrder = $('.showoderno').text().substr(13,2);
    if (showOrder == 'RC') {
        window.location.href = backtoselectbp;
    }
    else {
        window.location.href = backtoselect;
    }
});
$('#turnbackwh').click(function(){
    var showOrder = $('.showoderno').text().substr(13,2);
    if (showOrder == 'FN') {
        window.location.href = backtoselectbp;
    }
    else {
        window.location.href = backtoselect;
    }
});

$('#billoflading_print').each(function(){
    var getBolrefstatus = $('#getbolref').text();
    if (getBolrefstatus == 'Y') {
        $(this).show();
    }
    else {
        $(this).hide();
    }
});

$('#printbol').each(function(){
    var getBolrefstatus = $('#getbolref').text();
    if (getBolrefstatus == 'Y') {
        $(this).show();
    }
    else {
        $(this).hide();
    }
});

$('#savecsvpr').each(function(){
    var getBolrefstatus = $('#getbolref').text();
    if (getBolrefstatus == 'Y') {
        $(this).show();
    }
    else {
        $(this).hide();
    }
});

$(document).ready(function(){
    $('.sumqtyamount').each(function(){
        var getShcodeqty = $('#shcodeqty').val();
        var getShcode = $('#shcode').val();

        if (getShcodeqty != getShcode) {
            $(this).val();
        }
        else {
            $(this).val();
        }
    });
});
$(document).ready(function(){
    $('.shcode').each(function(){
        var getShcodeqty = $('#shcodeqty').val();
        var getShcode = $(this).val();

        if (getShcode != getShcodeqty) {
            $(this).val();
        }
        else {
            $(this).val();
        }
    });
});

$(document).ready(function(){
    $('input#input_qty').blur(function(){
        var num = parseFloat($(this).val());
        var cleanNum = num.toFixed(2);
        $(this).val(cleanNum);
    });
});

$(document).ready(function(){
    $('input#trd_qty').each(function(){
        var qty = parseFloat($(this).val());
        $(this).val(qty.toFixed(4));
    });
});

$(document).ready(function(){
    $('#selectgroup').change(function(){
        var selectgroup = $(this).val();
        $('input[name="ww_group"]').val(line.substr(1,1)+selectgroup);
        $('#selectnum').change(function(){
            var selectnum = $(this).val();
            $('input[name="ww_group"]').val(selectgroup+selectnum);
        });
        if (selectgroup == 'เลือกกลุ่ม') {
            $("#ww_group").val('');
        }
        else {
            $('input[name="ww_group"]').val(line.substr(1,1)+selectgroup);
        }
    });
});

$("#wip_barcode").change(function(){
    $("#pe_type_code").val($(this).val().substr(5,6));
});

$("#wip_barcode").change(function(){
    $("#pe_type_name").val($(this).val().substr(5,6));
});

$(document).ready(function(){
    $("#wip_barcode").on('keyup',function(){
        var wip = $(this).val().substr(1,1);
        var wip2 = $(this).val().substr(12,1);
        var getline = $("#getline").val().substr(1,1);
        if (wip == getline || wip2 == getline) {
            $("#errorline").text('');
        }
        else {
            $("#errorline").text('ไลน์ผลิตไม่ถูกต้อง');
        }
    });
});


$("#emplist e").draggable({
    cursor:"move",
    helper: "clone"
});

$(document).ready(function () {
    $("#addempgroup").on('click', function () {
        // โครงสร้าง input สำหรับกรอกชื่อพนักงาน
        var div1 = '<div class="employee-group">';
        var div2 = '</div>';
        var input1 = '<input style="width:35%;font-size:18px;" class="text-center" type="text" name="eg_emp1[]" placeholder="พนักงานคนที่ 1">';
        var line = '&nbsp;-&nbsp;';
        var input2 = '<input style="width:35%;font-size:18px;" class="text-center" type="text" name="eg_emp2[]" placeholder="พนักงานคนที่ 2">';
        var br = '<br>';

        // เพิ่มช่อง input ลงในฟอร์ม
        $("#empgroupadded").append(div1 + input1 + line + input2 + div2 + br);

        // ทำให้ input เป็น droppable
        $('input[name="eg_emp1[]"]').droppable({
            drop: function (event, ui) {
                this.value = $(ui.draggable).text();
            }
        });

        $('input[name="eg_emp2[]"]').droppable({
            drop: function (event, ui) {
                this.value = $(ui.draggable).text();
            }
        });
    });
});


$( "#removegroup" ).click(function() {
    $("#empgroupadded div").remove();
    $("br#brgroupemp").remove();
});

$(document).ready(function(){
    $(".inputng").click(function(e) {
        var id = $(this).data('id');
        $.get(path+"/modalng/" + id, function( data ) {
            $("#ng-data").html(data);
        });
    });
});

$(document).ready(function(){
    $.get(path+"/checkconnection/", function( data ) {
        $('#conmode').html(data);
    });
});

setInterval(function(){
    var on = "<span style='background-color:#23B850;'' class='badge'><b>Online</b></span>";
    var off = "<span style='background-color:#FF1919;'' class='badge'><b>Offline</b></span>";
    if (navigator.onLine) {
        $('#conmode').html(on);
    } else {
        $('#conmode').html(off);
    }
}, 10000);

function bs_input_file() {
    $(".input-file").before(
        function() {
            if ( ! $(this).prev().hasClass('input-ghost') ) {
                var element = $("<input type='file' class='input-ghost' style='visibility:hidden; height:0'>");
                element.attr("name",$(this).attr("name"));
                element.change(function(){
                    element.next(element).find('input').val((element.val()).split('\\').pop());
                });
                $(this).find("button.btn-choose").click(function(){
                    element.click();
                });
                $(this).find("button.btn-reset").click(function(){
                    element.val(null);
                    $(this).parents(".input-file").find('input').val('');
                });
                $(this).find('input').css("cursor","pointer");
                $(this).find('input').mousedown(function() {
                    $(this).parents('.input-file').prev().click();
                    return false;
                });
                return element;
            }
        }
    );
}
$(function() {
    bs_input_file();
});

$(document).on('click', '#close-preview', function(){
    $('.image-preview').popover('hide');
    // Hover befor close the preview
    $('.image-preview').hover(
        function () {
            $('.image-preview').popover('show');
        },
        function () {
            $('.image-preview').popover('hide');
        }
    );
});

$(function() {
    // Create the close button
    var closebtn = $('<button/>', {
        type:"button",
        text: 'x',
        id: 'close-preview',
        style: 'font-size: initial;',
    });
    closebtn.attr("class","close pull-right");
    // Set the popover default content
    $('.image-preview').popover({
        trigger:'manual',
        html:true,
        title: "<strong>Preview</strong>"+$(closebtn)[0].outerHTML,
        content: "There's no image",
        placement:'bottom'
    });
    // Clear event
    $('.image-preview-clear').click(function(){
        $('.image-preview').attr("data-content","").popover('hide');
        $('.image-preview-filename').val("");
        $('.image-preview-clear').hide();
        $('.image-preview-input input:file').val("");
        $(".image-preview-input-title").text("เลือกรูปภาพ");
    });
    // Create the preview image
    $(".image-preview-input input:file").change(function (){
        var img = $('<img width="100%"/>', {
            id: 'dynamic',
            width:250,
            height:200
        });
        var file = this.files[0];
        var reader = new FileReader();
        // Set preview image into the popover data-content
        reader.onload = function (e) {
            $(".image-preview-input-title").text("เปลี่ยน");
            $(".image-preview-clear").show();
            $(".image-preview-filename").val(file.name);
            img.attr('src', e.target.result);
            $(".image-preview").attr("data-content",$(img)[0].outerHTML).popover("show");
        }
        reader.readAsDataURL(file);
        window.setTimeout(function(){
            $(".image-preview").attr("data-content",$(img)[0].outerHTML).popover("hide");
        } ,5000);


    });
});

$(document).ready(function(){
    $("#poc_thickness").on('keyup',function(){
        var cline = $(this).val();
        if (cline < 0.4) {
            $("#errorcline").text('ความหนาต่ำกว่า 0.4');
        }
        else {
            $("#errorcline").text('');
        }
    });
});

var x = document.getElementById("pklat");
var y = document.getElementById("pklong");
var x1 = document.getElementById("pkclat");
var y2 = document.getElementById("pkclong");
var x3 = document.getElementById("pkboqlat");
var y4 = document.getElementById("pkboqlong");

if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition1);
} else {
    x.innerHTML = "Geolocation is not supported by this browser.";
}
if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition2);
} else {
    x.innerHTML = "Geolocation is not supported by this browser.";
}
if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition3);
} else {
    x.innerHTML = "Geolocation is not supported by this browser.";
}

function showPosition1(position) {
    x.value = position.coords.latitude;
    y.value = position.coords.longitude;
}
function showPosition2(position) {
    x1.value = position.coords.latitude;
    y2.value = position.coords.longitude;
}
function showPosition3(position) {
    x3.value = position.coords.latitude;
    y4.value = position.coords.longitude;
}
$(document).ready(function(){
    $("#pkdocall").on('click','.pkstatmodal',function(e) {
        var wlkey = $(this).data('wlkey');
        $.get({url:path+'/modalpkcalheaderstat/'+ wlkey ,
        beforeSend: function(){
            $('#pkcarheaderstat').html('<h3>กำลังโหลดข้อมูล...</h3>');
        },
        success:function( data ) {
            $('#pkcarheaderstat').html(data);
        },
        complete:function(data){

        },
    });

    $.get({url:path+'/pkboqdetailstat/'+ wlkey ,
    beforeSend: function(){
        $('#pkboqdetailstat').html('<tr><td></td><td><H3>กำลังโหลดข้อมูล...<H3></td><td></td></tr>');
    },
    success:function( data ) {
        $('#pkboqdetailstat').html(data);
    },
    complete:function(data){

    },
});
$.get({url:path+'/pkareadetailstat/'+ wlkey ,
beforeSend: function(){
    $('#pkareadetailstat').html('<tr><td></td><td><H3>กำลังโหลดข้อมูล...<H3></td><td></td></tr>');
},
success:function( data ) {
    $('#pkareadetailstat').html(data);
},
complete:function(data){

},
});

});
});

$(document).ready(function(){
    $("#clinereporttable").on('click','.clinepicmodal',function(e) {
        var pathpic = $(this).data('clinepic');
        $.get({url:path+'/clinepic/'+ pathpic ,
        beforeSend: function(){
            $('#clinepicdetail').html('<h3>กำลังโหลดข้อมูล...</h3>');
        },
        success:function( data ) {
            $('#clinepicdetail').html(data);
        },
        complete:function(data){

        },
    });
});
});

$(document).ready(function(){
    $("#clinereporttable").on('click','.parcelbtncline',function(e) {
        var pathpic = $(this).data('picname');
        console.log(pathpic);
        $.get({url:path+'/parcelpic/'+ pathpic ,
        beforeSend: function(){
            $('#showpacelpic-cline').html('<h3>กำลังโหลดข้อมูล...</h3>');
        },
        success:function( data ) {
            $('#showpacelpic-cline').html(data);
        },
        complete:function(data){

        },
    });
});
});

$(document).ready(function(){
    $("#pdfclinereporttable").on('click','.clinepicmodal',function(e) {
        var pathpic = $(this).data('clinepic');
        $.get({url:path+'/clinepic/'+ pathpic ,
        beforeSend: function(){
            $('#clinepicdetail').html('<h3>กำลังโหลดข้อมูล...</h3>');
        },
        success:function( data ) {
            $('#clinepicdetail').html(data);
        },
        complete:function(data){

        },
    });
});
});

$(document).ready(function(){
    $("#pdfclinereporttable").on('click','.parcelbtncline',function(e) {
        var pathpic = $(this).data('picname');
        console.log(pathpic);
        $.get({url:path+'/parcelpic/'+ pathpic ,
        beforeSend: function(){
            $('#showpacelpic-cline').html('<h3>กำลังโหลดข้อมูล...</h3>');
        },
        success:function( data ) {
            $('#showpacelpic-cline').html(data);
        },
        complete:function(data){

        },
    });
});
});

$(document).ready(function(){
    $('#pcb_status2').click(function(){
        if($(this).is(":checked")) {
            $(".noreadyboq").show();
        }
    });
});
$(document).ready(function(){
    $('#pcb_status1').click(function(){
        if($(this).is(":checked")) {
            $(".noreadyboq").hide();
        }
    });
});
$(document).ready(function(){
    $('#pkio_status1').click(function(){
        if($(this).is(":checked")) {
            $(".showremarkcheck").hide();
        }
    });
});
$(document).ready(function(){
    $('#pkio_status2').click(function(){
        if($(this).is(":checked")) {
            $(".showremarkcheck").show();
        }
    });
});

$(document).ready(function(){
    $.get({url:path+'/csvdetailrealtime/',
    beforeSend: function(){
        $('#csvdetailrealtime').html('<h3>กำลังโหลดข้อมูล...</h3>');
    },
    success:function( data ) {

        $('#csvdetailrealtime').html(data);
    },
    complete:function(data){
    },
});
});

setInterval(function(){
    $.get(path+"/csvdetailrealtime/", function(data) {
        $('#csvdetailrealtime').html(data);
    });
} ,3000);

$(document).ready(function(){
    $.get({url:path+'/c/'+wl,
    beforeSend: function(){
        $('#transcalendar').html("<h3 class='text-center'>กำลังโหลดข้อมูล...</h3>");
    },
    success:function( data ) {
        $('#transcalendar').html(data);
    },
    complete:function(data){
    },
});
});

setInterval(function(){
    $(document).ready(function(){
        console.log(countcsd);
        $.get({url:path+'/checkandrescalendar/'+wl+'/'+countedc+'/'+countecd+'/'+countcsd,
        success:function(result) {
            console.log(result.response);
            if (result.response == 1) {
                $.get({url:path+'/calendarresponse/'+wl,
                beforeSend: function(){
                    $('#transcalendar').html("<h3>กำลังโหลดข้อมูล...</h3>");
                },
                success:function( data ) {
                    $('#transcalendar').html(data);
                },
                complete:function(data){
                },
            });
            }
        },
        complete:function(data){
        },
    });
    });
} ,9000);

$(document).ready(function(){
    $.get({url:path+'/cutstocktable/'+getdi_key_se,
    beforeSend: function(){
        $('#tablecuts').html('<td></td><td><h3>กำลังโหลดข้อมูล...</h3></td><td></td>');
    },
    success:function( data ) {

        $('#tablecuts').html(data);
    },
    complete:function(data){
    },
});
});

$(document).ready(function(){
    $(".ngeachid").click(function(e) {
        var wid = $(this).data('wipid');
        var barcode = $(this).data('wipbarcode');
        $('#ngbarcodenoti').text(barcode);
        $.get({url:path+'/ngeachid/'+wid,
        beforeSend: function(){
            $('#showngeachid').html('<h3>กำลังโหลดข้อมูล...</h3>');
        },
        success:function( data ) {
            $('#showngeachid').html(data);
        },
        complete:function(data){

        },
    });
});
});

$(document).ready(function(){
    $.get({url:path+'/cutstockhidden/'+getdi_key_se,
    beforeSend: function(){
        $('#btnsubfg').button('loading');
    },
    success:function( data ) {
        $('#hiddenfginput').html(data);
        $('#btnsubfg').button('reset');
    },
    complete:function(data){

    },
});
});



// $(document).ready(function (){
//     $('#dashboardtable').DataTable({
//         "oLanguage": {
//             "sSearch": "ค้นหา",
//             "dom": '<"wrapper"flipt>'

//         },
//         dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
//     });
// });

// $(document).ready(function (){
//     $('#dashboardtablewip').DataTable({
//         "oLanguage": {
//             "sSearch": "ค้นหา",
//             "dom": '<"wrapper"flipt>'

//         },
//         dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
//     });
// });

$(document).ready(function() {
    $('#dashboardtable').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            {
                extend: 'excel',
                text: 'Export to Excel'
            }
             
        ]
    } );
} );


$(document).ready(function() {
    $('#dashboardtablewip').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            {
                extend: 'excel',
                text: 'Export to Excel'
            }
             
        ]
    } );
} );


// $(document).ready(function () {
//     var table = $('#example').DataTable({
//     });
   
//     $('#brd_outfg_date').on('keyup', function () {
//         table
//             .columns(10)
//             .search(this.value)
//             .draw();
//     });             
// });
 


$(document).ready(function (){
    $('#wpszonea').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#wpszoneb').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#wpszonec').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#wpszoned').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#wpszonee').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#wpszonef').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#addbrandszonea').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function (){
    $('#colorselector').change(function(){
        $('.colors').hide();
        $('#' + $(this).val()).show();
    });
});

$(document).ready(function(){
    $.get({url:path+'/flrealtime/',
    beforeSend: function(){
        $('#flrealtime').html('<h3>กำลังโหลดข้อมูล...</h3>');
    },
    success:function( data ) {

        $('#flrealtime').html(data);
    },
    complete:function(data){
    },
});
});

setInterval(function(){
    $.get(path+"/flrealtime/", function(data) {
        $('#flrealtime').html(data);
    });
} ,3000);


// $(document).addEventListener('DOMContentLoaded', function(){
//     var calendarEl = document.getElementById('calendar');
//     $.get({url:path+'/flrealtime/',
//     var calendar = new FullCalendar.Calendar(calendarEl, {
//         headerToolbar: {
//           left: 'dayGridMonth',
//           center: 'title',
//           right: 'prevYear,prev,next,nextYear'
//         },
//         footerToolbar: {
//           left: '',
//           center: '',
//           right: 'prev,next'
//         },
//       });
//       calendar.render();
//     });

document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
  
    var calendar = new FullCalendar.Calendar(calendarEl, {
      headerToolbar: {
        left: 'dayGridMonth',
        center: 'title',
        right: 'prevYear,prev,next,nextYear'
      },
      footerToolbar: {
        left: '',
        center: '',
        right: 'prev,next'
      },
    });
    calendar.render();
  });

  $("#addbillbuilder").on('click',function() {
    var row = '<div class="row" id="moreempid">';
    var col = '<div class="col-md-6 text-center">';
    var name = '<b style="font-size:16px;">ชื่อ : </b><input type="text" name="ue_name[]" class="form-control text-center" data-toggle="tooltip" style="width:70%;"  required>';
    var tel = '<b style="font-size:16px;">เบอร์โทร์ : </b><input type="text" name="ue_name[]" class="form-control text-center" data-toggle="tooltip"  style="width:70%;"  required>';
    var remark = '<b style="font-size:16px;">ตำแหน่ง : </b><input type="text" name="ue_remark[]" class="form-control text-center" data-toggle="tooltip"  style="width:50%;" maxlength="50">';
    var enddiv = '</div>';
    $("#addbillbuilder").append(row+col+name+hiddenempline+tel+enddiv+col+remark+enddiv+enddiv);
});

$('#removebillbuilder').click(function() {
    $("#moreempid").remove();
});


$(document).ready(function (){
    $('#detailcalendartable').DataTable({
        "oLanguage": {
            "sSearch": "ค้นหา",
            "dom": '<"wrapper"flipt>'

        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$("#addwlhomepo").on('click',function() {
    var inputID = $('input[name="inputng_id"]').val()
    var tr1 = '<tr>';
    var tr2 = '</tr>';
    $("#wipline1awaste").append(tr1+slectElement+inputElement+tr2);
    $('input[name="amg_wip_id[]"]').val(inputID);
});

$(document).ready( function () {
    $('#buildertable').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#dashman').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#debtorfrom').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#debtorwlcodefrom').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#confirmtable').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#brdstatustable').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#actreporttable').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#allpurchase').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready( function () {
    $('#fmTemplate').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});


$(document).ready(function() {
    $('#exportbplusbom').DataTable( {
        'search' :false,
        dom: 'Bfrtip',
        buttons: [
            {
                extend: 'excel', 
                text: '<i class="fa fa-arrow-circle-right"></i> ดาวโหลดไฟล์ BOM',
                className: 'my-excel-button'
            }
             
        ]
    } );
} );


$(document).ready( function () {
    $('#alladvancetable').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});

$(document).ready(function() {
    $('#exportcomparedashboard').DataTable( {
        'search' :false,
        dom: 'Bfrtip',
        buttons: [
            {
                extend: 'excel', 
                text: '<i class="fa fa-arrow-circle-right"></i> ดาวโหลดไฟล์ เปรียบเทียบยอดทั้งหมด ',
                className: 'my-excel-button'
            }
             
        ]
    } );
} );

$(document).ready( function () {
    $('#tableviewdashboardbywlcode').DataTable( {
        "oLanguage": {
            "sSearch": "ค้นหา",
        },
        dom:' <"search"f><"top"l>rt<"bottom"ip><"clear">'
    });
});